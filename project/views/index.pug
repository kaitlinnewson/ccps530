doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible" content="IE=edge")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        title Dataverse Map
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous")
        script(src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous")
        link(rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="anonymous")
        script(src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin="anonymous")
    body
        .container
            h1 Dataverse GeoJSON Map Loader
            p Load a GeoJSON file to a map from a Dataverse instance.
            form(id="mapForm")
                .mb-3
                    label(for="dataverse" class="form-label") Dataverse instance URL (e.g. https://dataverse.harvard.edu)
                    input(type="text" name="dataverse" id="dataverse" placeholder="Dataverse URL" class="form-control" required)
                .mb-3
                    label(for="fileId" class="form-label") GeoJSON file identifier (the file ID or persistent ID of the file you want to load a map of)
                    input(type="text" name="fileId" id="fileId" placeholder="File ID" class="form-control" required)
                .mb-3
                    p File Identifier Type
                    input(type="radio" name="idType" id="pid" value="pid" class="form-check-input" required)
                    label(for="pid" class="form-check-label") Persistent Identifier (DOI/Handle)
                    br
                    input(type="radio" name="idType" id="datafileId" value="datafileId" class="form-check-input" required)
                    label(for="datafileId" class="form-check-label") File ID
                .mb-3
                    label(for="apiKey" class="form-label") Dataverse API Key (required for restricted or unpublished files)
                    input(type="text" name="apiKey" id="apiKey" placeholder="API Key" class="form-control")
                button(type="submit" class="btn btn-primary") Submit

        .container.mt-2
            #map(style="width: 800px; height: 500px;")

        script(type="text/javascript" src="/js/map.js")
